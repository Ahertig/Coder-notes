<div class="dropdown">
	<a class="dropdown-toggle" data-toggle="dropdown">
		<button type="button" class="btn align-right"  data-toggle="tooltip" title="Add a notebook">
			<i class="fa fa-plus"></i><i class="fa fa-book"></i>
		</button>
	</a>
	<ul class="dropdown-menu dropdown-messages">
		<li>
			<div class="input-group">
				<form ng-submit="createNotebook(notebookTitle)">
					<input id="notebook" type="text" ng-model="notebookTitle" placeholder="Enter notebook title">
					<button class="btn btn-small btn-default" data-toggle="tooltip" title="Save Notebook" type="submit"><i class="fa fa-save"></i></button>
				</form>
			</div>
		</li>
	</ul> <!-- /.dropdown-messages -->
</div> <!-- /.dropdown -->	
<input ng-model="searchNotebooktitle" width="25" type="text" class="form-control" placeholder="Search Notebooks">
<div class="outer-scroll">
	<div class="list-group" id="side-menu-2">   						
		
		<div ng-repeat="notebook in getCachedNotebooks() | filter:{title: searchNotebooktitle} | filter: {trash: false} | orderBy: '-date'">

			<a data-toggle="collapse" ng-href="#{{notebook._id}}" class="list-group-item clearfix" ng-click="setCurrentNotebook(notebook)"> {{notebook.title}} 

				<i data-toggle="modal" data-target="#trashNotebook{{notebook._id}}" data-toggle="tooltip" title="Trash notebook" class="glyphicon glyphicon-minus-sign pull-right"></i> 

				<i data-toggle="modal" data-target="#shareNotebook{{notebook._id}}" class="pull-right glyphicon glyphicon-share"  data-toggle="tooltip" title="Share notebook"></i>

				<!-- <i data-toggle="modal" data-target="#editNotebook{{notebook._id}}" class="pull-right glyphicon glyphicon-cog"  data-toggle="tooltip" title="setting"></i> -->

		    </a>

	<!-- Delete Popup -->
	<div id="trashNotebook{{notebook._id}}" class="modal fade" role="dialog">
		<div class="modal-dialog">

			<!-- Share Popup content-->
			<div class="modal-content">
				<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>
				<div class="modal-body">

					<div class="input-group" id="delete-notebook-confirmation"> 
						<h4 class="modal-title">Are you sure you want to delete this notebook?</h4>
						<span ng-click="trashNotebook(notebook)" class="btn btn-danger" data-dismiss="modal">Delete</span> 
						<span class="btn btn-success" data-dismiss="modal">Cancel</span> 
					</div>

				</div>
				<!--       <div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div> -->
			</div>
		</div>
	</div>
	<!-- Closing Delete Popup -->



	<!-- Share Popup -->
	<div id="shareNotebook{{notebook._id}}" class="modal fade" role="dialog">
		<div class="modal-dialog">

		<!-- Share Popup content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Manage Sharing</h4>
				</div>
				<div class="modal-body">

					<form ng-submit="shareNotebook(notebook, shareEmail)">
						<div class="input-group"> 
						<input ng-model="shareEmail" type="text" class="form-control" placeholder="Add friend's email to share or "> 
						<span ng-click="shareNotebook(notebook, shareEmail)" class="input-group-addon btn btn-success" data-dismiss="modal">Share</span> 
						<span ng-click="removeNotebookShare(notebook, shareEmail)" class="input-group-addon btn btn-danger" data-dismiss="modal">Remove Share</span> 
						</div>
					</form>	

				<div class="alert alert-error" role="alert" ng-if="errormessage">{{errormessage}}</div>


				</div>
			<!--       <div class="modal-footer">
			<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div> -->
			</div>
		</div>
	</div>
	<!-- Closing Popup -->
				<!-- 
					<div id="editNotebook{{notebook._id}}" class="modal fade" role="dialog">
					  <div class="modal-dialog">
					    <div class="modal-content">
					      <div class="modal-header">
					        <button type="button" class="close" data-dismiss="modal">&times;</button>
					      </div>
					      <div class="modal-body">
							<div class="input-group" id="updateNotebook"> 
								<form>
								<input ng-model="shareEmail" type="text" class="form-control" placeholder="{{notebook.title}}">
								<span ng-click="updateNotebook(notebook)" class="btn btn-success" data-dismiss="modal">Save</span> 
								</form>
							</div>
					      </div>
					    </div>
					  </div>
					</div> -->
					<!-- Closing editPopup -->

				<!-- <div class="panel-collapse collapse" id="{{notebook._id}}"> -->
				<div class="collapse" id="{{notebook._id}}">	
					


					<div class="panel-body inner-scroll">
						<div class="list-group">
							<a ng-click="setCurrentNote(oneNote,notebook)" class="list-group-item" ng-repeat="oneNote in notebook.notes| filter:{trash: false} | orderBy: '-lastUpdate'" >{{oneNote.subject}}
							</a>
						</div>
					</div>
				</div>


			</div>
		</div>
	<!-- </div> -->
</div>
